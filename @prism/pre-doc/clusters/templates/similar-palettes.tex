% !TEX TS-program = lualatex

\documentclass{tutodoc}

\usepackage[svgnames]{xcolor}
\usepackage[3d]{luadraw}
\usepackage{fourier}

\geometry{
  top    = 1.5cm,
  bottom = 1.5cm,
  left   = 1.75cm,
  right  = 1.75cm,
%  showframe
}

\directlua{dofile('../../../products/luadraw/palettes.lua')}


\begin{document}

\pagestyle{empty}

\section*{Similar palettes -- Semi-automated process used}

% -- SECTION - START -- %

\subsection*{Cluster \#1}

\begin{luacode*}
PALETTES = {
  "RdYlBu",
  "Spectral"
}

function Dpalette(name)
  local g = graph:new{
    window = {-5, 15, -5, 5},
    bbox   = false,
    border = false
  }

  g:Linewidth(1)

  local A     = Z(-5, 4)
  local h, dh = Z(0, -1), Z(0, -1.1)
  local L, N  = 15, 100
  local dl    = L/N

  local pal = getPal(name)

  for k = 1, N do
    local color = palette(pal, (k - 1) / (N - 1))

    g:Drectangle(
      A, A + h, A + h + dl,
         "color = " .. color
      .. ", fill = " .. color
    )

    A = A+dl
  end

  g:Drectangle(A, A + h, A + h - L)

  g:Dlabel(
    "\\quad\\large\\texttt{\\bfseries " .. name .. "}",
    A + h / 2,
    {pos = "E"}
  )

  g:Sendtotex()

  tex.sprint("\\smallskip\\par")
end


for _, name in pairs(PALETTES) do
  Dpalette(name)
end
\end{luacode*}

% -- SECTION - END -- %

\end{document}
